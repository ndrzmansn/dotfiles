{"mode":"editor","version":1,"windowDimensions":{"x":448,"y":22,"width":1024,"height":1174},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/zwei/Workspace/zippy/graal/com.oracle.truffle.api/src/com/oracle/truffle/api/instrument","buffers":[{"text":"/*\n * Copyright (c) 2014, Oracle and/or its affiliates. All rights reserved.\n * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.\n *\n * This code is free software; you can redistribute it and/or modify it\n * under the terms of the GNU General Public License version 2 only, as\n * published by the Free Software Foundation.  Oracle designates this\n * particular file as subject to the \"Classpath\" exception as provided\n * by Oracle in the LICENSE file that accompanied this code.\n *\n * This code is distributed in the hope that it will be useful, but WITHOUT\n * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or\n * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License\n * version 2 for more details (a copy is included in the LICENSE file that\n * accompanied this code).\n *\n * You should have received a copy of the GNU General Public License version\n * 2 along with this work; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.\n *\n * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA\n * or visit www.oracle.com if you need additional information or have any\n * questions.\n */\npackage com.oracle.truffle.api.instrument;\n\nimport com.oracle.truffle.api.*;\n\n/**\n * A collector of {@link ExecutionEvents} at a specific site (node) in a Truffle AST (generated by a\n * {@link Wrapper} inserted into the AST) for the purpose of <em>instrumentation</em>. For probes\n * associated with programmer-facing tools, there should be no more than one probe associated with a\n * particular piece of source code syntax (i.e. a {@link SourceSection}).\n * <p>\n * Any {@linkplain PhylumTag tags} associated with a particular piece of source code syntax are\n * managed by the probe.\n * <p>\n * When ASTs are copied, it is presumed that the probe for a site is shared by all AST nodes\n * representing that site.\n * <p>\n * A probe holds zero or more {@link Instrument}s, which can be added and removed dynamically.\n * Events reported to a probe are propagated to every attached instrument; the order is undefined.\n * <p>\n * Probe methods must be amenable to Truffle/Graal inlining on the assumption that the collection of\n * attached instruments seldom changes. The assumption is invalidated when instruments are added or\n * removed, but some instruments may change their internal state in such a way that the assumption\n * should also be invalidated.\n * <p>\n * <strong>Disclaimer:</strong> experimental interface under development. In particular, the\n * <em>notify</em> methods must be migrated to another interface.\n *\n * @see Instrument\n * @see Wrapper\n */\npublic interface Probe extends ExecutionEvents, PhylumTagged {\n\n    /**\n     * The source location with which this probe is (presumably uniquely) associated.\n     */\n    SourceSection getSourceLocation();\n\n    /**\n     * Mark this probe as being associated with an AST node in some category useful for debugging\n     * and other tools.\n     */\n    void tagAs(PhylumTag tag);\n\n    /**\n     * Adds an instrument to this probe.\n     */\n    void addInstrument(Instrument newInstrument);\n\n    /**\n     * Removes an instrument from this probe.\n     */\n    void removeInstrument(Instrument oldInstrument);\n\n}\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":23},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/zwei/Workspace/zippy/graal/com.oracle.truffle.api/src/com/oracle/truffle/api/instrument/Probe.java","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"89436a2f55061281f784c28cd389294adf1c8825","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":23,"softTabs":true,"scrollTop":0,"scrollLeft":0,"displayBuffer":{"id":24,"softWrap":false,"editorWidthInChars":80,"tokenizedBuffer":{"bufferPath":"/Users/zwei/Workspace/zippy/graal/com.oracle.truffle.api/src/com/oracle/truffle/api/instrument/Probe.java","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/zwei/Workspace/zippy/graal/com.oracle.truffle.api/src/com/oracle/truffle/api/instrument/Probe.java","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/zwei/Workspace/zippy/graal/com.oracle.truffle.api/src/com/oracle/truffle/api/instrument/Probe.java":1400909870279},"keybinding-resolver":{"attached":false},"metrics":{"sessionLength":2510},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/Users/zwei/Workspace/zippy/graal/com.oracle.truffle.api/src/com/oracle/truffle/api/instrument/Probe.java","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}